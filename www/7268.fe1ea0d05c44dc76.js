"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7268],{7268:(F,h,g)=>{g.r(h),g.d(h,{FormPageModule:()=>C});var f=g(6814),l=g(95),r=g(9004),u=g(6958),v=g(5861),e=g(6689),M=g(4414);function T(a){const s=a.value;return s<30||s>200?{pesoInvalido:!0,mensaje:"El peso debe estar entre 0 y 200 kg."}:null}function _(a){const s=a.value;return s<1.3||s>2.8?{tallaInvalida:!0,mensaje:"La talla debe estar entre 0 y 2.5 metros."}:null}const N=[{path:"",component:(()=>{var a;class s{constructor(t,n,i){this.router=t,this.formBuilder=n,this.alertController=i,this.nombre="",this.genero="",this.fechaNacimiento="",this.edad=0,this.peso=0,this.talla=0,this.tipoDiabetes="",this.alergias="",this.actividadFisica="",this.nivelMotivacion=0,this.form=this.formBuilder.group({nombre:["",l.kI.required],genero:["",l.kI.required],fechaNacimiento:["",[l.kI.required,this.fechaNacimientoValidator]],edad:[0,[l.kI.required]],peso:[0,[l.kI.required,T]],talla:[0,[l.kI.required,_]],tipoDiabetes:["",l.kI.required],alergias:[""],actividadFisica:["",l.kI.required],nivelMotivacion:[0,l.kI.required]})}fechaNacimientoValidator(t){const n=new Date(t.value),i=new Date("1960-01-01"),o=new Date;return o.setFullYear(o.getFullYear()-11),n<i||n>o?{fechaNacimientoInvalida:!0,mensaje:"La fecha de nacimiento est\xe1 fuera de rango."}:null}onSubmit(){this.calcularEdad();const t={nombre:this.nombre,genero:this.genero,fechaNacimiento:this.fechaNacimiento,edad:this.edad,peso:this.peso,talla:this.talla,tipoDiabetes:this.tipoDiabetes,alergias:this.alergias,actividadFisica:this.actividadFisica,nivelMotivacion:this.nivelMotivacion};var n,i,o,c,m,p;(console.log(this.form),this.form.valid)?(this.calcularEdad(),console.log("Formulario enviado:",t),this.router.navigate(["/plan-alimentacion",{formData:JSON.stringify(t)}]),this.resetForm()):(null!==(n=this.form.get("fechaNacimiento"))&&void 0!==n&&n.hasError("fechaNacimientoInvalida")&&(null===(i=this.form.get("fechaNacimiento"))||void 0===i||i.getError("mensaje")),null!==(o=this.form.get("peso"))&&void 0!==o&&o.hasError("pesoInvalido")&&(null===(c=this.form.get("peso"))||void 0===c||c.getError("mensaje")),null!==(m=this.form.get("talla"))&&void 0!==m&&m.hasError("tallaInvalida")&&(null===(p=this.form.get("talla"))||void 0===p||p.getError("mensaje")),this.mostrarAlerta("Formulario Inv\xe1lido","Por favor, completa los campos requeridos."))}calcularEdad(){if(this.fechaNacimiento){const t=new Date(this.fechaNacimiento),i=(new Date).getTime()-t.getTime(),o=Math.floor(i/315576e5);this.edad=o,console.log(o)}}resetForm(){this.nombre="",this.genero="",this.fechaNacimiento="",this.peso=0,this.talla=0,this.tipoDiabetes="",this.alergias="",this.actividadFisica="",this.nivelMotivacion=0}mostrarAlerta(t,n){var i=this;return(0,v.Z)(function*(){yield(yield i.alertController.create({header:t,message:n,buttons:["OK"]})).present()})()}}return(a=s).\u0275fac=function(t){return new(t||a)(e.Y36(u.F0),e.Y36(l.qu),e.Y36(M.Br))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-form"]],decls:71,vars:13,consts:[[3,"translucent"],["slot","start"],[2,"display","flex","align-items","center","justify-content","space-between","width","100%"],["src","https://firebasestorage.googleapis.com/v0/b/jeong-4b94a.appspot.com/o/image_2023-11-08_211659175.png?alt=media&token=43060f86-7376-4456-8a09-09d7a1609ea9&_gl=1*kghpbs*_ga*MTEwMTg0MzMxNC4xNjk2MzAwNDQ2*_ga_CW55HF8NVT*MTY5OTQ0NTgwNi4yMi4xLjE2OTk0NDY3MjcuNTAuMC4w","alt","","width","100px","height","100px"],[1,"community-page",3,"fullscreen"],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","nombre","name","nombre","required","",3,"ngModel","ngModelChange"],["formControlName","genero","name","genero","required","",3,"ngModel","ngModelChange"],["value","Varon"],["value","Mujer"],["value","Otros"],["type","date","formControlName","fechaNacimiento","name","fechaNacimiento","required","",3,"ngModel","ngModelChange"],["type","number","step","0.1","formControlName","peso","name","peso","required","",3,"ngModel","ngModelChange"],["type","number","step","0.1","formControlName","talla","name","talla","required","",3,"ngModel","ngModelChange"],["formControlName","tipoDiabetes","name","tipoDiabetes","required","",3,"ngModel","ngModelChange"],["value","Tipo 1"],["value","Tipo 2"],["value","Gestacional"],["formControlName","alergias","name","alergias","rows","3",3,"ngModel","ngModelChange"],["formControlName","actividadFisica","name","actividadFisica","required","",3,"ngModel","ngModelChange"],["value","Si realizo"],["value","No realizo"],["value","Una vez a la semana"],["value","De vez en cuando"],["value","Nunca"],["formControlName","nivelMotivacion","name","nivelMotivacion","min","1","max","100","step","1",3,"ngModel","ngModelChange"],["expand","full","type","submit",3,"disabled"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title")(5,"div",2),e._uU(6," Formulario "),e._UZ(7,"img",3),e.qZA()()()(),e.TgZ(8,"ion-content",4)(9,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(10,"ion-item")(11,"ion-label",6),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"ion-input",7),e.NdJ("ngModelChange",function(o){return n.nombre=o}),e.qZA()(),e.TgZ(14,"ion-item")(15,"ion-label",6),e._uU(16,"G\xe9nero"),e.qZA(),e.TgZ(17,"ion-select",8),e.NdJ("ngModelChange",function(o){return n.genero=o}),e.TgZ(18,"ion-select-option",9),e._uU(19,"Varon"),e.qZA(),e.TgZ(20,"ion-select-option",10),e._uU(21,"Mujer"),e.qZA(),e.TgZ(22,"ion-select-option",11),e._uU(23,"Otros"),e.qZA()()(),e.TgZ(24,"ion-item")(25,"ion-label",6),e._uU(26,"Fecha de Nacimiento"),e.qZA(),e._UZ(27,"br"),e.TgZ(28,"ion-input",12),e.NdJ("ngModelChange",function(o){return n.fechaNacimiento=o}),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-label",6),e._uU(31,"Peso (\xdaltimos 3 meses)"),e.qZA(),e.TgZ(32,"ion-input",13),e.NdJ("ngModelChange",function(o){return n.peso=o}),e.qZA()(),e.TgZ(33,"ion-item")(34,"ion-label",6),e._uU(35,"Talla (\xdaltimos 3 meses)"),e.qZA(),e.TgZ(36,"ion-input",14),e.NdJ("ngModelChange",function(o){return n.talla=o}),e.qZA()(),e.TgZ(37,"ion-item")(38,"ion-label",6),e._uU(39,"Tipo de Diabetes"),e.qZA(),e.TgZ(40,"ion-select",15),e.NdJ("ngModelChange",function(o){return n.tipoDiabetes=o}),e.TgZ(41,"ion-select-option",16),e._uU(42,"Tipo 1"),e.qZA(),e.TgZ(43,"ion-select-option",17),e._uU(44,"Tipo 2"),e.qZA(),e.TgZ(45,"ion-select-option",18),e._uU(46,"Gestacional"),e.qZA()()(),e.TgZ(47,"ion-item")(48,"ion-label",6),e._uU(49,"Alergias a alimentos"),e.qZA(),e.TgZ(50,"ion-textarea",19),e.NdJ("ngModelChange",function(o){return n.alergias=o}),e.qZA()(),e.TgZ(51,"ion-item")(52,"ion-label",6),e._uU(53,"Actividad f\xedsica o ejercicio"),e.qZA(),e.TgZ(54,"ion-select",20),e.NdJ("ngModelChange",function(o){return n.actividadFisica=o}),e.TgZ(55,"ion-select-option",21),e._uU(56,"Si realizo"),e.qZA(),e.TgZ(57,"ion-select-option",22),e._uU(58,"No realizo"),e.qZA(),e.TgZ(59,"ion-select-option",23),e._uU(60,"Una vez a la semana"),e.qZA(),e.TgZ(61,"ion-select-option",24),e._uU(62,"De vez en cuando"),e.qZA(),e.TgZ(63,"ion-select-option",25),e._uU(64,"Nunca"),e.qZA()()(),e.TgZ(65,"ion-item")(66,"ion-label",6),e._uU(67,"Nivel de motivaci\xf3n (%)"),e.qZA(),e.TgZ(68,"ion-range",26),e.NdJ("ngModelChange",function(o){return n.nivelMotivacion=o}),e.qZA()(),e.TgZ(69,"ion-button",27),e._uU(70,"Enviar"),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("ngModel",n.nombre),e.xp6(4),e.Q6J("ngModel",n.genero),e.xp6(11),e.Q6J("ngModel",n.fechaNacimiento),e.xp6(4),e.Q6J("ngModel",n.peso),e.xp6(4),e.Q6J("ngModel",n.talla),e.xp6(4),e.Q6J("ngModel",n.tipoDiabetes),e.xp6(10),e.Q6J("ngModel",n.alergias),e.xp6(4),e.Q6J("ngModel",n.actividadFisica),e.xp6(14),e.Q6J("ngModel",n.nivelMotivacion),e.xp6(1),e.Q6J("disabled",!n.form.valid))},dependencies:[l._Y,l.JJ,l.JL,l.Q7,r.YG,r.Sm,r.W2,r.Gu,r.pK,r.Ie,r.Q$,r.fG,r.I_,r.t9,r.n0,r.g2,r.wd,r.sr,r.as,r.QI,r.j9,l.sg,l.u],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #1b3a64}ion-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;font-family:Arial;min-height:20px;display:block;width:100%;padding:10px}ion-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}ion-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:auto}ion-button[_ngcontent-%COMP%]{margin-top:20px;margin-left:20px;display:flex;align-items:first baseline;width:200px;height:50px}"]}),s})()}];let b=(()=>{var a;class s{}return(a=s).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[u.Bz.forChild(N),u.Bz]}),s})(),C=(()=>{var a;class s{}return(a=s).\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[f.ez,l.u5,r.Pc,b,l.UX]}),s})()}}]);